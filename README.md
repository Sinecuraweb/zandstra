Код из книги Мэтта Зандстры.